<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>More Games</title>
    <style>
        /* KARANLIK MOD STİLLERİ */
        :root {
            --bg-color: #1a1a1a;
            --text-color: #f0f0f0;
            --main-color: #00bcd4; /* Açık Mavi/Turkuaz */
            --card-bg: #2a2a2a;
            --border-color: #444;
            --input-bg: #333;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 30px auto;
            padding: 0 20px;
        }

        header {
            text-align: center;
            padding: 40px 0 20px;
        }

        h1 {
            color: var(--main-color);
            font-size: 3em;
            margin-bottom: 5px;
        }

        h2 {
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
            margin-top: 40px;
            color: var(--main-color);
        }

        /* Oyun ve Yükleme Bölümleri */
        #swf-yukle-bolumu, .oyun-alani {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        /* YENİ DOSYA YÜKLEME BUTONU STİLİ */
        #swf-yukle-bolumu label {
            display: inline-block;
            background-color: var(--main-color);
            color: #1a1a1a;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 1em;
            border: none;
        }

        #swf-yukle-bolumu label:hover {
            background-color: #00e5ff;
        }

        #local-file-input {
            display: none; /* Gerçek input'u gizle */
        }
        
        .oyun-listesi {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .oyun-kart {
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            border: 1px solid var(--border-color);
            text-align: center;
        }

        .oyun-kart:hover {
            background-color: #3a3a3a;
            transform: translateY(-3px);
        }

        .oyun-kart h3 {
            margin: 0 0 5px 0;
            color: var(--main-color);
        }
        
        .oyun-kart p {
            font-size: 0.9em;
            color: #bbb;
        }

        .oyun-alani object, .oyun-alani embed {
            display: block;
            margin: 20px auto;
            max-width: 100%;
            height: 500px;
            border: 2px solid var(--main-color);
            border-radius: 5px;
        }
        
        .oyun-alani p {
            color: #999;
            text-align: center;
        }

    </style>
    <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
</head>
<body>

    <header>
        <h1>More Games</h1>
        <p>Adobe Flash Oyunlarını Ruffle Emülatörü ile Oynayın</p>
    </header>

    <div class="container">
        
        <div id="swf-yukle-bolumu">
            <h2>Kendi SWF Dosyanızı Yerelden Açın</h2>
            <p style="color:#aaa;">*Dosyanız sunucuya yüklenmez. Sadece tarayıcınızda açılır.</p>
            <input type="file" id="local-file-input" accept=".swf" onchange="localSwfAc(event)">
            <label for="local-file-input">SWF Dosyası Seç</label>
        </div>

        <div class="oyun-alani" id="oyun-alani">
            <p>Listeden bir oyun seçin veya kendi bilgisayarınızdaki bir SWF dosyasını açın.</p>
        </div>

        <h2>Oyun Koleksiyonu</h2>
        <div class="oyun-listesi">
            
            <div class="oyun-kart" onclick="oyunYukle('https://ruffle.rs/demo/example.swf', '3D Blok Yapma Oyunu (Örnek)')">
                <h3>Minecraft Benzeri Yapım</h3>
                <p>Basit 3D/Blok tarzı yapım oyunları.</p>
            </div>
            
            <div class="oyun-kart" onclick="oyunYukle('https://uploads.ungrounded.net/449000/449272_run_2.swf', 'Beceri Parkuru: Koşu 2')">
                <h3>Obby / Beceri Parkuru</h3>
                <p>Platform ve hızlı refleks gerektiren oyun.</p>
            </div>
            
            <div class="oyun-kart" onclick="oyunYukle('https://uploads.ungrounded.net/72000/72793_Truck_Loader.swf', 'Tır Yükleme Simülasyonu')">
                <h3>Tır Sürme Oyunu</h3>
                <p>Yük taşıma ve park etme temalı oyunlar.</p>
            </div>

            <div class="oyun-kart" onclick="oyunYukle('https://uploads.ungrounded.net/32000/32085_Motocross_Mania.swf', 'Motor Çılgınlığı')">
                <h3>Motor Yarışı</h3>
                <p>Hızlı ve akrobatik motor yarışları.</p>
            </div>
            
        </div>
    </div>

    <script>
        const oyunAlani = document.getElementById('oyun-alani');

        // 1. URL'den veya Sabit SWF'den Oyun Yükleme Fonksiyonu
        function oyunYukle(swfUrl, oyunAdi) {
            oyunAlani.innerHTML = `
                <h2>Oynanıyor: ${oyunAdi}</h2>
                <object data="${swfUrl}" type="application/x-shockwave-flash" width="100%" height="500">
                    <param name="movie" value="${swfUrl}">
                    <p>Ruffle yükleniyor...</p>
                </object>
            `;
        }

        // 2. Yerel Dosyadan Oyun Yükleme Fonksiyonu (Yeni)
        function localSwfAc(event) {
            const file = event.target.files[0];
            if (!file) return;

            // Dosya okuyucu (FileReader) kullanarak dosyanın verisine erişme
            const reader = new FileReader();

            reader.onload = function(e) {
                const swfDataURL = e.target.result; // Dosyanın Data URL'si (geçici bellek konumu)
                const oyunAdi = file.name;

                // Data URL'yi kullanarak object etiketini oluştur
                oyunAlani.innerHTML = `
                    <h2>Oynanıyor: ${oyunAdi} (Yerel Dosya)</h2>
                    <object data="${swfDataURL}" type="application/x-shockwave-flash" width="100%" height="500">
                        <param name="movie" value="${swfDataURL}">
                        <p>Ruffle yerel dosyayı yüklüyor...</p>
                    </object>
                `;
            };

            // Dosyayı Data URL olarak oku
            reader.readAsDataURL(file);
        }
    </script>

</body>
</html>